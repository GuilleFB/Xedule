{% extends 'base.html' %}

{% block title %}
  Note #{{ note.id }}
{% endblock title %}
{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="fs-4 fw-bold m-0">Tweet Detail</h1>
    <a href="{% url 'tweet_list' %}"
       class="btn btn-twitter-outline btn-twitter-sm">
      <i class="bi bi-arrow-left"></i> Back to timeline
    </a>
  </div>
  <div class="tweet-card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <span class="tweet-color fw-bold">Tweet #{{ tweet.id }}</span>
      {% if tweet.status == 'pending' %}
        <span class="badge rounded-pill badge-twitter-pending">Pending</span>
      {% else %}
        <span class="badge rounded-pill badge-twitter-published">Published</span>
      {% endif %}
    </div>
    <div class="card-body">
      <div class="d-flex mb-3">
        <div class="me-3">
          <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center custom-width-48">
            <i class="bi bi-person-fill fs-4"></i>
          </div>
        </div>
        <div>
          <div class="tweet-color fw-bold">{{ request.user.username }}</div>
          <div class="text-muted small">@{{ request.user.username }}</div>
        </div>
      </div>
      <p class="tweet-content">{{ tweet.content }}</p>
      <div class="mt-4 tweet-metadata">
        <dl class="row">
          <dt class="col-sm-4">Created on:</dt>
          <dd class="col-sm-8">
            {{ tweet.created_at }}
          </dd>
          {% if tweet.scheduled_time %}
            <dt class="col-sm-4">Scheduled for:</dt>
            <dd class="col-sm-8">
              {{ tweet.scheduled_time }}
            </dd>
          {% endif %}
          {% if tweet.published_at %}
            <dt class="col-sm-4">Published on:</dt>
            <dd class="col-sm-8">
              {{ tweet.published_at }}
            </dd>
          {% endif %}
          {% if tweet.tweet_id %}
            <dt class="col-sm-4">Tweet ID:</dt>
            <dd class="col-sm-8">
              <a href="https://twitter.com/user/status/{{ tweet.tweet_id }}"
                 target="_blank"
                 class="text-decoration-none">
                {{ tweet.tweet_id }}
                <i class="bi bi-box-arrow-up-right ms-1 small"></i>
              </a>
            </dd>
          {% endif %}
        </dl>
      </div>
    </div>
    <div class="card-footer d-flex justify-content-end gap-2">
      <a href="{% url 'tweet_update' tweet.id %}" class="btn btn-twitter">
        <i class="bi bi-pencil"></i> Edit
      </a>
      <a href="{% url 'tweet_delete' tweet.id %}"
         class="btn btn-outline-danger rounded-pill">
        <i class="bi bi-trash"></i> Delete
      </a>
    </div>
  </div>
  <div class="d-flex justify-content-between align-items-center mt-4">
    <a href="{% url 'tweet_list' %}" class="btn btn-twitter-outline">
      <i class="bi bi-arrow-left"></i> Back to timeline
    </a>
  </div>
{% endblock content %}
